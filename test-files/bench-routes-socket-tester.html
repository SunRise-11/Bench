<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>
<body>
	<button onclick="startPing()">Ping start</button>
	<button onclick="stopPing()">Ping stop</button>
	<button onclick="startFloodPing()">Flood Ping start</button>
	<button onclick="stopFloodPing()">Flood Ping stop</button>
	<script>
		let socket = new WebSocket("ws://localhost:9090/websocket")
		console.warn('trying socket connection')

		socket.onopen = () => {
			console.log('connected')
			socket.send("hi from ui")
		}

		socket.onmessage = m => {
			console.log('message received as ', m)
		}

		socket.onclose = () => {
			console.warn("connection closed")
		}
		function startPing() {
			socket.send("force-start-ping")
		}
		function stopPing() {
			socket.send("force-stop-ping")
		}
		function startFloodPing() {
			socket.send("force-start-flood-ping")
		}
		function stopFloodPing() {
			socket.send("force-stop-flood-ping")
		}
	</script>

</body>
</html>
