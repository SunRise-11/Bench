(this["webpackJsonpbench-routes-ui"]=this["webpackJsonpbench-routes-ui"]||[]).push([[0],{113:function(e,t,a){e.exports=a(128)},118:function(e,t,a){},119:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),c=a(12),l=a.n(c),s=a(74),o=a(99),u=a(211),m=a(203),d=(a(118),a(119),a(7)),p=a(198),h=a(202),f=a(173),v=a(199),b=a(172),y=a(75),E=a(201),g=a(170),j=a(200),O=a(3),x=a(33),w=a(41),S=a(26),k=a(73),C=a(13),N=a.n(C),B=i.a.memo((function(e){var t=[{name:"CPU",data:e.cpuMetrics}];return i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,{series:t,options:{chart:{type:"area",xaxis:{type:"category",categories:[],labels:{show:!0,rotate:45,rotateAlways:!0,hideOverlappingLabels:!0,trim:!0}},background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"CPU usage (in percent)",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.6,inverseColors:!0,opacityFrom:1,opacityTo:.2}}},height:"300",type:"area"}))})),M=a(206),W=a(174),P=a(205),D=a(209),L=i.a.memo((function(e){var t=[{name:"Memory",data:e.memoryUsagePercentMetrics}];return i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,{series:t,options:{chart:{type:"area",background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Memory (RAM) usage  (in percent)",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.6,inverseColors:!0,opacityFrom:1,opacityTo:.2}}},height:"300",type:"area"}))})),F=i.a.memo((function(e){var t=[{name:"Disk IO in bytes (+ve means write / -ve means read)",data:e.diskIO}],a=[{name:"Cache (in bytes)",data:e.cache}];return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement(N.a,{series:t,options:{chart:{type:"area",background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Disk IO in bytes (+ve means write / -ve means read)",align:"center"}},height:"300",type:"area"})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(N.a,{series:a,options:{chart:{type:"area",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Cache (in bytes)",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.6,inverseColors:!0,opacityFrom:1,opacityTo:.2}}},height:"300",type:"area"})))})),I=i.a.memo((function(e){var t=[{name:"Available",data:e.availableBytes},{name:"Free",data:e.freeBytes},{name:"Total",data:e.totalBytes},{name:"Used",data:e.usedBytes}];return i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,{series:t,options:{chart:{type:"area",background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Memory (RAM) details (in kilo-bytes)",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.1,inverseColors:!0,opacityFrom:.8,opacityTo:.2}}},height:"500",type:"area"}))}));!function(e){e[e.Microsecond=1e3]="Microsecond",e[e.Millisecond=1e6]="Millisecond",e[e.Second=1e9]="Second",e[e.Minute=6e10]="Minute",e[e.Hour=36e11]="Hour",e[e.Day=864e11]="Day"}(n||(n={}));var T=function(e){var t=e.split("|"),a=t.length;return"".concat(t[a-3],":").concat(t[a-2],":").concat(t[a-1])},R=n,U="http://localhost:9090",z=a(19),A=a.n(z),H=a(61),V=a(29),G=function(e,t){var a=Object(r.useState)({status:"start fetching"}),n=Object(d.a)(a,2),i=n[0],c=n[1],l=Object(r.useState)(),s=Object(d.a)(l,2),o=s[0],u=s[1],m=Object(r.useState)(!1),p=Object(d.a)(m,2),h=p[0],f=p[1],v=Object(r.useState)(!1),b=Object(d.a)(v,2),y=b[0],E=b[1];return Object(r.useEffect)((function(){var a=function(){var a=Object(V.a)(A.a.mark((function a(){var n,r;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,f(!0),E(!0),a.next=5,fetch(e,Object(H.a)({cache:"no-cache",credentials:"same-origin"},t));case 5:if((n=a.sent).ok){a.next=10;break}throw f(!1),E(!1),new Error(n.statusText);case 10:return a.next=12,n.json();case 12:r=a.sent,c(r),f(!1),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),u(a.t0);case 20:case"end":return a.stop()}}),a,null,[[0,17]])})));return function(){return a.apply(this,arguments)}}();y||setTimeout((function(){a()}),1e3)}),[e,t,y]),{response:i,error:o,isLoading:h}};function q(e){var t=e.children,a=e.value,n=e.index,r=Object(k.a)(e,["children","value","index"]);return i.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),a===n&&i.a.createElement(P.a,{p:3},t))}function J(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var _=Object(g.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})),K=function(e){var t=e.showLoader,a=_(),n=Object(r.useState)({status:"",data:{}}),c=Object(d.a)(n,2),l=c[0],s=c[1],o=Object(r.useState)(""),u=Object(d.a)(o,2),m=u[0],p=u[1],h=i.a.useState(0),v=Object(d.a)(h,2),b=v[0],y=v[1],E=1e6*(new Date).getTime()-R.Hour;Object(r.useEffect)((function(){t(!0)}),[t]),Object(r.useEffect)((function(){fetch("".concat(U,"/query?timeSeriesPath=storage/system&endTimestamp=").concat(E)).then((function(e){return e.json()})).then((function(e){s(e)}),(function(e){p(e)}))}),[]);if(m)return t(!1),i.a.createElement(D.a,{severity:"error"},"Unable to reach the service: error");if(!l.data.values)return i.a.createElement(i.a.Fragment,null,i.a.createElement(D.a,{severity:"info"},"Fetching data from sources"));var g=function(e){var t,a=[],n=[],r=[],i=[],c=[],l=[],s=[],o=[],u=Object(S.a)(e);try{for(u.s();!(t=u.n()).done;){var m=t.value;a.push({y:m.value.cpuTotalUsage,x:T(m.timestamp)}),n.push({y:m.value.disk.cached,x:T(m.timestamp)}),r.push({y:m.value.disk.diskIO,x:T(m.timestamp)}),i.push({y:m.value.memory.availableBytes,x:T(m.timestamp)}),c.push({y:m.value.memory.freeBytes,x:T(m.timestamp)}),l.push({y:m.value.memory.totalBytes,x:T(m.timestamp)}),s.push({y:m.value.memory.usedBytes,x:T(m.timestamp)}),o.push({y:m.value.memory.usedPercent,x:T(m.timestamp)})}}catch(d){u.e(d)}finally{u.f()}return{cpuUsageSlice:a,diskSliceCache:n,diskSliceDiskIO:r,memorySliceAvailableBytes:i,memorySliceFreeBytes:c,memorySliceTotalBytes:l,memorySliceUsedBytes:s,memoryUsedPercentSlice:o}}(l.data.values);return t(!1),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12",style:{marginBottom:"1%"}},i.a.createElement("div",{className:a.root},i.a.createElement(f.a,{position:"static"},i.a.createElement(M.a,{value:b,onChange:function(e,t){y(t)},indicatorColor:"secondary"},i.a.createElement(W.a,Object.assign({label:"System"},J(0))),i.a.createElement(W.a,Object.assign({label:"Disk"},J(1))),i.a.createElement(W.a,Object.assign({label:"Memory details"},J(2))))),i.a.createElement(q,{value:b,index:0},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement(B,{cpuMetrics:g.cpuUsageSlice})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(L,{memoryUsagePercentMetrics:g.memoryUsedPercentSlice})))),i.a.createElement(q,{value:b,index:1},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(F,{diskIO:g.diskSliceDiskIO,cache:g.diskSliceCache}))),i.a.createElement(q,{value:b,index:2},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(I,{availableBytes:g.memorySliceAvailableBytes,freeBytes:g.memorySliceFreeBytes,totalBytes:g.memorySliceTotalBytes,usedBytes:g.memorySliceUsedBytes}))))))},X=function(){var e=_(),t=Object(r.useState)({status:"",data:{}}),a=Object(d.a)(t,2),n=a[0],c=a[1],l=Object(r.useState)(""),s=Object(d.a)(l,2),o=s[0],u=s[1],m=1e6*(new Date).getTime()-R.Hour,p=i.a.useState(0),h=Object(d.a)(p,2),v=h[0],b=h[1];if(Object(r.useEffect)((function(){fetch("".concat(U,"/query?timeSeriesPath=storage/journal&endTimestamp=").concat(m)).then((function(e){return e.json()})).then((function(e){c(e)}),(function(e){u(e)}))}),[]),o)return i.a.createElement(D.a,{severity:"error"},"Unable to reach the service: error");if(!n.data)return i.a.createElement(D.a,{severity:"info"},"Fetching data from sources");var y=function(e){var t=[],a=[],n=[],r=[],i=[],c=[];if(!e)return{cerr:t,cwarn:a,cevents:n,ckerr:r,ckwarn:i,ckevents:c};var l,s=Object(S.a)(e);try{for(s.s();!(l=s.n()).done;){var o=l.value;t.push({y:o.value.cerr,x:T(o.timestamp)}),a.push({y:o.value.cwarn,x:T(o.timestamp)}),n.push({y:o.value.cevents,x:T(o.timestamp)}),r.push({y:o.value.ckerr,x:T(o.timestamp)}),i.push({y:o.value.ckwarn,x:T(o.timestamp)}),c.push({y:o.value.ckevents,x:T(o.timestamp)})}}catch(u){s.e(u)}finally{s.f()}return{cerr:t,cwarn:a,cevents:n,ckerr:r,ckwarn:i,ckevents:c}}(n.data.values),E=[{name:"Errors",data:y.cerr},{name:"Warnings",data:y.cwarn},{name:"Events",data:y.cevents}],g=[{name:"Errors",data:y.ckerr},{name:"Warnings",data:y.ckwarn},{name:"Events",data:y.ckevents}];return i.a.createElement("div",{className:e.root},i.a.createElement(f.a,{position:"static"},i.a.createElement(M.a,{value:v,onChange:function(e,t){b(t)},indicatorColor:"secondary"},i.a.createElement(W.a,Object.assign({label:"Kernel"},J(0))),i.a.createElement(W.a,Object.assign({label:"Systemd"},J(1))))),i.a.createElement(q,{value:v,index:0},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(N.a,{series:g,options:{chart:{type:"area",background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Kernel",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.3,inverseColors:!0,opacityFrom:.8,opacityTo:.2}}},height:"300",type:"area"})))),i.a.createElement(q,{value:v,index:1},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(N.a,{series:E,options:{chart:{type:"area",background:"#fff"},dataLabels:{enabled:!1},stroke:{show:!0,curve:"straight",lineCap:"butt",width:1},subtitle:{text:"Systemd services",align:"center"},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.3,inverseColors:!0,opacityFrom:.8,opacityTo:.2}}},height:"300",type:"area"})))))},Y=a(175),$=a(176),Q=function(e){var t=e.updateLoader;return t(!0),i.a.createElement(Y.a,null,i.a.createElement($.a,null,i.a.createElement("h4",null,"Dashboard"),i.a.createElement("hr",null),i.a.createElement(K,{showLoader:t}),i.a.createElement("hr",null),i.a.createElement(X,null)))},Z=function(){return i.a.createElement("div",null,"FloodPing page")},ee=a(204),te=a(207),ae=function(e){var t=[{name:"min",data:e.value}];return i.a.createElement(N.a,{series:t,options:{chart:{type:"area",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#fff"}},height:"300"})},ne=function(e){var t;return e.startsWith("https://www.")?t=e.replace("https://www.",""):e.startsWith("https://")?t=e.replace("https://",""):e.startsWith("http://www.")?t=e.replace("http://www.",""):e.startsWith("http://")&&(t=e.replace("http://","")),t},re=function(e){var t,a=[],n=Object(S.a)(e.values);try{for(n.s();!(t=n.n()).done;){var r=t.value;a.push({y:r.value.value,x:T(r.timestamp)})}}catch(i){n.e(i)}finally{n.f()}return{jitter:a}},ie=function(){var e=Object(r.useState)(),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(null===a||void 0===a?void 0:a.testServicesRoutes[0]),l=Object(d.a)(c,1)[0],s=Object(r.useState)(""),o=Object(d.a)(s,2),u=o[0],m=o[1],p=Object(r.useState)(!1),h=Object(d.a)(p,2),f=h[0],v=h[1],b=Object(r.useState)(),y=Object(d.a)(b,2),E=y[0],g=y[1],j=G("".concat(U,"/service-state")),O=j.response,x=j.error;function w(){return(w=Object(V.a)(A.a.mark((function e(t){var a,n,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ne(t),e.prev=1,e.next=4,fetch("".concat(U,"/query?timeSeriesPath=storage/jitter/chunk_jitter_").concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,i=re(r.data),g(i),v(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}if(Object(r.useEffect)((function(){fetch("".concat(U,"/routes-summary")).then((function(e){return e.json()})).then((function(e){n(e.data)}))}),[]),x)return i.a.createElement(D.a,{severity:"error"},"Unable to reach the service: error");if(!O.data)return i.a.createElement(D.a,{severity:"info"},"Fetching from sources");var S=void 0!==(null===a||void 0===a?void 0:a.testServicesRoutes)?a.testServicesRoutes:["Please fill routes"];return i.a.createElement(Y.a,null,i.a.createElement($.a,null,i.a.createElement("div",null,i.a.createElement("h4",null,"Jitter"),i.a.createElement("div",{style:{float:"right",marginTop:"-45px"}},i.a.createElement(te.a,{value:l,onChange:function(e,t){},inputValue:u,onInputChange:function(e,t){m(t),function(e){w.apply(this,arguments)}(t)},id:"controllable-states-demo",options:S,style:{width:300},renderInput:function(e){return i.a.createElement(ee.a,Object.assign({},e,{label:"Select Route",variant:"outlined"}))}}))),i.a.createElement("br",null),i.a.createElement("hr",null),i.a.createElement("div",null,void 0!==E&&f?i.a.createElement(ae,{value:E.jitter}):null)))},ce=[{label:"Name",minWidth:170,align:"left"},{label:"Ping",minWidth:100,align:"center"},{label:"Jitter",minWidth:170,align:"center",format:function(e){return e.toLocaleString("en-US")}},{label:"Response time",minWidth:170,align:"center",format:function(e){return e.toLocaleString("en-US")}},{label:"Response length",minWidth:170,align:"center",format:function(e){return e.toFixed(2)}},{label:"Status",minWidth:170,align:"center",format:function(e){return e.toFixed(2)}},{label:"",minWidth:10,align:"center",format:function(e){return e.toFixed(2)}}],le=a(182),se=a(183),oe=a(185),ue=a(180),me=a(184),de=a(179),pe=a(181),he=a(95),fe=a.n(he),ve=a(96),be=a.n(ve),ye=a(214),Ee=function(e){var t=parseInt(e,10);return Math.round(10*t)/10},ge=function(){return i.a.createElement("span",null,"\xa0\xa0\xa0\xa0")},je=function(e){var t=e.timeSeriesPath,a=e.showRouteDetails,n=Object(r.useState)(),c=Object(d.a)(n,2),l=c[0],s=c[1],o=Object(r.useState)(0),u=Object(d.a)(o,2),m=u[0],p=u[1],h=Object(r.useState)(!0),f=Object(d.a)(h,2),v=f[0],b=f[1],y=Object(r.useState)(!1),E=Object(d.a)(y,2),g=E[0],j=E[1],O=1e6*(new Date).getTime()-R.Hour,x=function(){var e=Object(V.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise((function(e,a){function n(){return(n=Object(V.a)(A.a.mark((function n(){var r,i;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(U,"/query-matrix?routeNameMatrix=").concat(t.path.matrixName,"&endTimestamp=").concat(O));case 3:return r=n.sent,n.next=6,r.json();case 6:i=n.sent,e(i.data),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0),j(!0),a(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,10]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()})),e.next=3,n;case 3:r=e.sent,a(!0,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=Object(V.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,fetch("".concat(U,"/query-matrix?routeNameMatrix=").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,s(n.data),setTimeout((function(){b(!1),j(!1)}),1e3),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),j(!0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t.path.matrixName)}),[m,t.path.matrixName]),l?(setTimeout((function(){p(m+1)}),1e4),i.a.createElement(de.a,null,i.a.createElement(ue.a,{style:{minWidth:170,fontSize:16},align:"left"},i.a.createElement(ye.a,{color:"light"},t.name)),i.a.createElement(ue.a,{style:{minWidth:100,fontSize:16},align:"center"},i.a.createElement(ye.a,{color:"warning"},void 0===l.ping?"-":Ee(l.ping.values[0].value.avgValue)," ","ms")),i.a.createElement(ue.a,{style:{minWidth:170,fontSize:16},align:"center"},i.a.createElement(ye.a,{color:"warning"},void 0===l.jitter?"-":Ee(l.jitter.values[0].value.value)," ","ms")),i.a.createElement(ue.a,{style:{minWidth:170,fontSize:16},align:"center"},i.a.createElement(ye.a,{color:"warning"},void 0===l.monitor?"-":l.monitor.values[0].value.delay," ","ms")),i.a.createElement(ue.a,{style:{minWidth:170,fontSize:16},align:"center"},i.a.createElement(ye.a,{color:"warning"},void 0===l.monitor?"-":l.monitor.values[0].value.resLength)),i.a.createElement(ue.a,{style:{minWidth:170,fontSize:16},align:"center"},i.a.createElement(ye.a,{color:"success"},"UP")),i.a.createElement(ue.a,{style:{minWidth:10,fontSize:16},align:"center"},g?i.a.createElement(fe.a,null):v?i.a.createElement(pe.a,{disableShrink:!0,size:19,thickness:4}):i.a.createElement("span",{onClick:function(){return x(t)}},i.a.createElement(be.a,{color:"primary"}))))):i.a.createElement(de.a,{className:"table-data-row",key:t.path.matrixName},i.a.createElement(ue.a,{style:{minWidth:170,fontSize:16},align:"left"},i.a.createElement(ye.a,{color:"light"},t.name)),i.a.createElement(ue.a,{style:{minWidth:100,fontSize:16},align:"center"}),i.a.createElement(ue.a,{style:{minWidth:170,fontSize:16},align:"center"}),i.a.createElement(ue.a,{style:{minWidth:170},align:"center"}),i.a.createElement(ue.a,{style:{minWidth:170},align:"center"}),i.a.createElement(ue.a,{style:{minWidth:170,fontSize:16},align:"center"}),i.a.createElement(ue.a,{style:{minWidth:10,fontSize:16},align:"center"},v?i.a.createElement(pe.a,{disableShrink:!0,size:15,thickness:4}):i.a.createElement(ge,null)))},Oe=function(e){var t=e.timeSeriesPath,a=e.showRouteDetails;return i.a.createElement(le.a,{style:{maxHeight:"100vh",overflowY:"hidden"}},i.a.createElement(se.a,{stickyHeader:!0},i.a.createElement(me.a,null,i.a.createElement(de.a,null,ce.map((function(e,t){return i.a.createElement(ue.a,{key:t,align:e.align,style:{minWidth:e.minWidth,fontWeight:600,fontSize:15}},e.label)})))),i.a.createElement(oe.a,null,t.map((function(e,t){return i.a.createElement(je,{timeSeriesPath:e,showRouteDetails:a,key:t})})))))},xe=function(e){var t=[{name:"CPU",data:e.resLength}];return i.a.createElement(N.a,{series:t,options:{chart:{type:"area",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#fff"}},height:"300"})},we=function(e){var t=[{name:"CPU",data:e.delay}];return i.a.createElement(N.a,{series:t,options:{chart:{type:"area",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#fff"}},height:"300"})},Se=function(e){var t=[{name:"min",data:e.min},{name:"mean",data:e.mean},{name:"max",data:e.max}];return i.a.createElement(N.a,{series:t,options:{chart:{type:"area",xaxis:{type:"category",categories:[],labels:{show:!0,rotate:0,rotateAlways:!1,hideOverlappingLabels:!0,trim:!0}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#fff"}},height:"300"})},ke=a(97),Ce=a.n(ke);function Ne(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Be(e){var t=e.children,a=e.value,n=e.index,r=Object(k.a)(e,["children","value","index"]);return i.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),a===n&&i.a.createElement(P.a,{p:3},t))}var Me=function(e){var t=e.routesChains,a=e.showDetails,n=i.a.useState(0),r=Object(d.a)(n,2),c=r[0],l=r[1],s=function(e){var t,a=[],n=[],r=[],i=[],c=[],l=[],s=Object(S.a)(e.monitor.values);try{for(s.s();!(t=s.n()).done;){var o=t.value;a.push({y:o.value.delay,x:T(o.timestamp)}),n.push({y:o.value.resLength,x:T(o.timestamp)})}}catch(v){s.e(v)}finally{s.f()}var u,m=Object(S.a)(e.ping.values);try{for(m.s();!(u=m.n()).done;){var d=u.value;r.push({y:d.value.minValue,x:T(d.timestamp)}),i.push({y:d.value.avgValue,x:T(d.timestamp)}),c.push({y:d.value.maxValue,x:T(d.timestamp)})}}catch(v){m.e(v)}finally{m.f()}var p,h=Object(S.a)(e.jitter.values);try{for(h.s();!(p=h.n()).done;){var f=p.value;l.push({y:f.value.value,x:T(f.timestamp)})}}catch(v){h.e(v)}finally{h.f()}return{responseDetailsDelay:a,responseDetailsResponse:n,pingMin:r,pingMean:i,pingMax:c,jitter:l}}(t);return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{onClick:function(){return a(!1,t)}},i.a.createElement(Ce.a,{color:"primary",fontSize:"large"})),i.a.createElement("hr",null),i.a.createElement(f.a,{position:"static"},i.a.createElement(M.a,{value:c,onChange:function(e,t){l(t)},indicatorColor:"secondary"},i.a.createElement(W.a,Object.assign({label:"Response length"},Ne(0))),i.a.createElement(W.a,Object.assign({label:"Response delay"},Ne(1))),i.a.createElement(W.a,Object.assign({label:"Ping"},Ne(2))),i.a.createElement(W.a,Object.assign({label:"Jitter"},Ne(3))))),i.a.createElement(Be,{value:c,index:0},i.a.createElement(xe,{resLength:s.responseDetailsResponse})),i.a.createElement(Be,{value:c,index:1},i.a.createElement(we,{delay:s.responseDetailsDelay})),i.a.createElement(Be,{value:c,index:2},i.a.createElement(Se,{min:s.pingMin,mean:s.pingMean,max:s.pingMax})),i.a.createElement(Be,{value:c,index:3},i.a.createElement(ae,{value:s.jitter})))},We=a(212),Pe=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],c=function(){fetch("".concat(U,"/get-monitoring-services-state")).then((function(e){return e.json()})).then((function(e){"active"===e.data?n(!0):n(!1)}))};return c(),i.a.createElement(We.a,{checked:a,color:"primary",onChange:function(){fetch("".concat(U,"/update-monitoring-services-state?state=").concat(a?"stop":"start")).then((function(e){return e.json()})).then((function(e){e&&c()}))}})},De=function(e){var t=e.updateLoader,a=G("".concat(U,"/get-route-time-series")),n=a.response,c=a.error,l=Object(r.useState)(!1),s=Object(d.a)(l,2),o=s[0],u=s[1],m=Object(r.useState)(),p=Object(d.a)(m,2),h=p[0],f=p[1],v=function(e,t){u(e),f(t)};return Object(r.useEffect)((function(){t(!0)}),[t]),c?i.a.createElement(Y.a,null,i.a.createElement($.a,null,i.a.createElement("h4",null,"Monitoring"),i.a.createElement("hr",null),i.a.createElement(D.a,{severity:"error"},"Unable to reach the service: error"))):n.data?(t(!1),i.a.createElement(Y.a,null,i.a.createElement($.a,null,o&&h?i.a.createElement(Me,{routesChains:h,showDetails:v}):i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",null,"Monitoring ",i.a.createElement(Pe,null)),i.a.createElement("hr",null),i.a.createElement(Oe,{timeSeriesPath:n.data,showRouteDetails:v}))))):i.a.createElement(Y.a,null,i.a.createElement($.a,null,i.a.createElement("h4",null,"Monitoring"),i.a.createElement("hr",null),i.a.createElement(D.a,{severity:"info"},"Fetching data from sources")))},Le=function(e){var t,a=[],n=[],r=[],i=Object(S.a)(e.values);try{for(i.s();!(t=i.n()).done;){var c=t.value;a.push({y:c.value.minValue,x:T(c.timestamp)}),n.push({y:c.value.avgValue,x:T(c.timestamp)}),r.push({y:c.value.maxValue,x:T(c.timestamp)})}}catch(l){i.e(l)}finally{i.f()}return{pingMin:a,pingMean:n,pingMax:r}},Fe=function(){var e=Object(r.useState)(),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(null===a||void 0===a?void 0:a.testServicesRoutes[0]),l=Object(d.a)(c,1)[0],s=Object(r.useState)(""),o=Object(d.a)(s,2),u=o[0],m=o[1],p=Object(r.useState)(!1),h=Object(d.a)(p,2),f=h[0],v=h[1],b=Object(r.useState)(),y=Object(d.a)(b,2),E=y[0],g=y[1],j=G("".concat(U,"/service-state")),O=j.response,x=j.error;function w(){return(w=Object(V.a)(A.a.mark((function e(t){var a,n,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ne(t),e.prev=1,e.next=4,fetch("".concat(U,"/query?timeSeriesPath=storage/ping/chunk_ping_").concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,i=Le(r.data),g(i),v(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}if(Object(r.useEffect)((function(){fetch("".concat(U,"/routes-summary")).then((function(e){return e.json()})).then((function(e){n(e.data)}))}),[]),x)return i.a.createElement(D.a,{severity:"error"},"Unable to reach the service: error");if(!O.data)return i.a.createElement(D.a,{severity:"info"},"Fetching from sources");var S=void 0!==(null===a||void 0===a?void 0:a.testServicesRoutes)?a.testServicesRoutes:["Please fill routes"];return i.a.createElement(Y.a,null,i.a.createElement($.a,null,i.a.createElement("div",null,i.a.createElement("h4",null,"Ping"),i.a.createElement("div",{style:{float:"right",marginTop:"-45px"}},i.a.createElement(te.a,{value:l,onChange:function(e,t){},inputValue:u,onInputChange:function(e,t){m(t),function(e){w.apply(this,arguments)}(t)},id:"controllable-states-demo",options:S,style:{width:300},renderInput:function(e){return i.a.createElement(ee.a,Object.assign({},e,{label:"Select Route",variant:"outlined"}))}}))),i.a.createElement("br",null),i.a.createElement("hr",null),i.a.createElement("div",null,void 0!==E&&f?i.a.createElement(Se,{min:E.pingMin,mean:E.pingMean,max:E.pingMax}):null)))},Ie=function(){return i.a.createElement("div",null,"This is settings")},Te=function(e){var t=e.updateLoader;return i.a.createElement(x.a,null,i.a.createElement(w.c,null,i.a.createElement(w.a,{exact:!0,path:"/",render:function(e){return i.a.createElement(Q,{updateLoader:t})}}),i.a.createElement(w.a,{exact:!0,path:"/monitoring",render:function(e){return i.a.createElement(De,{updateLoader:t})}}),i.a.createElement(w.a,{path:"/ping",component:Fe}),i.a.createElement(w.a,{path:"/floodping",component:Z}),i.a.createElement(w.a,{path:"/jitter",component:ie}),i.a.createElement(w.a,{path:"/settings",component:Ie})))},Re=a(62),Ue=a(186),ze=a(187),Ae=a(189),He=a(194),Ve=a(178),Ge=a(210),qe=a(196),Je=a(188),_e=a(190),Ke=a(191),Xe=a(192),Ye=a(193),$e=a(195),Qe=a(197),Ze=Object(g.a)((function(e){return{root:{display:"flex"},nested:{paddingLeft:e.spacing(4),backgroundColor:"#DCDCDC"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Re.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),toolbarIcon:Object(H.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),settings:{position:"absolute",bottom:0,alignItems:"center"}}})),et=function(e){var t=e.handleDrawerClose,a=e.open,n=Ze(),c=Object(r.useState)(!1),l=Object(d.a)(c,2),s=l[0],o=l[1],u=function(){o(!s)},m=i.a.createElement("div",null,i.a.createElement(Ue.a,{button:!0,component:x.b,to:"/"},i.a.createElement(ze.a,null,i.a.createElement(Je.a,null)),i.a.createElement(Ae.a,{primary:"Dashboard"})),i.a.createElement(Ue.a,{button:!0,component:x.b,to:"/monitoring"},i.a.createElement(ze.a,null,i.a.createElement(_e.a,null)),i.a.createElement(Ae.a,{primary:"Monitoring"})),i.a.createElement(Ue.a,{button:!0},i.a.createElement(ze.a,null,i.a.createElement(Ke.a,null)),i.a.createElement(Ae.a,{primary:"Tests",onClick:u}),a?i.a.createElement(Xe.a,{onClick:u}):i.a.createElement(Ye.a,{onClick:u})),i.a.createElement(He.a,{in:s,timeout:"auto",unmountOnExit:!0},i.a.createElement(Ve.a,{component:"div",disablePadding:!0},i.a.createElement(Ue.a,{button:!0,component:x.b,to:"/ping",className:n.nested},i.a.createElement(ze.a,null,i.a.createElement(Je.a,null)),i.a.createElement(Ae.a,{primary:"Ping"})),i.a.createElement(Ue.a,{button:!0,component:x.b,to:"/floodping",className:n.nested},i.a.createElement(ze.a,null,i.a.createElement(Je.a,null)),i.a.createElement(Ae.a,{primary:"FloodPing"})),i.a.createElement(Ue.a,{button:!0,component:x.b,to:"/jitter",className:n.nested},i.a.createElement(ze.a,null,i.a.createElement(Je.a,null)),i.a.createElement(Ae.a,{primary:"Jitter"})))));return i.a.createElement("div",{className:n.root},i.a.createElement(x.a,null,i.a.createElement(Ge.a,{variant:"permanent",classes:{paper:Object(O.a)(n.drawerPaper,!a&&n.drawerPaperClose)},open:a},i.a.createElement("div",{className:n.toolbarIcon},i.a.createElement(b.a,{onClick:t},i.a.createElement($e.a,null))),i.a.createElement(qe.a,null),i.a.createElement(Ve.a,null,m),i.a.createElement(Ue.a,{button:!0,component:x.b,to:"/settings",className:n.settings},i.a.createElement(ze.a,null,i.a.createElement(Qe.a,null)),i.a.createElement(Ae.a,{primary:"Settings"})))))},tt=Object(g.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},title:{flexGrow:1},toolbar:{paddingRight:24},menuButton:{marginRight:36},menuButtonHidden:{display:"none"}}})),at=Object(g.a)((function(e){return{root:{display:"flex"},color:{primary:e.palette.primary},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));function nt(){var e=at(),t=tt(),a=Object(r.useState)(!1),n=Object(d.a)(a,2),c=n[0],l=n[1],s=Object(r.useCallback)((function(e){l(e)}),[]),o=Object(r.useState)(!0),u=Object(d.a)(o,2),m=u[0],g=u[1];return i.a.createElement("div",{className:e.root},i.a.createElement(p.a,null),i.a.createElement("div",{className:"_navbar"},i.a.createElement(f.a,{position:"absolute",className:Object(O.a)(t.appBar,m&&t.appBarShift)},i.a.createElement(v.a,{className:t.toolbar},i.a.createElement(b.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){g(!0)},className:Object(O.a)(t.menuButton,m&&t.menuButtonHidden)},i.a.createElement(j.a,null)),i.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},"Bench Routes")),c?i.a.createElement(E.a,null):null)),i.a.createElement(et,{handleDrawerClose:function(){g(!1)},open:m}),i.a.createElement("main",{className:e.content},i.a.createElement("div",{className:e.appBarSpacer}),i.a.createElement(h.a,{maxWidth:"lg",className:e.container},i.a.createElement(Te,{updateLoader:s}))))}var rt=Object(o.a)({palette:{primary:s.a},typography:{fontFamily:["Lato","Raleway"].join(","),fontSize:12}});rt=Object(u.a)(rt);var it=function(){return i.a.createElement(m.a,{theme:rt},i.a.createElement(nt,null))};a(127),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[113,1,2]]]);
//# sourceMappingURL=main.d8a62a93.chunk.js.map